grammar RecurringEvents
  include TimeEnglish

  rule phrase
    subject ' ' predicate 
    <PhraseNode>
  end

  rule subject
    (abbreviation ' ')? noun 
    <SubjectNode>
  end

  rule noun
    lowercase_word
  end

  rule predicate
    verb_group ' ' event ' ' time_phrase
    <PredicateNode>
  end

  rule verb_group
    verb / auxiliary ' ' past_verb 
  end  
   
  rule verb
    'need' 's'?
  end

  rule auxiliary
    'should be' / 'must be' / 'has to'
  end

  rule past_verb
    'visited' / lowercase_word
  end

  rule event
    ('a' / 'an') ' ' event_type
    <EventNode>
  end

  rule event_type
    numbered_word (' '? !separator .)*
  end

  rule abbreviation
    ('mr' / 'mrs')
  end

  rule lowercase_word
    [a-z]+
  end

  rule numbered_word
    (lowercase_word / [0-9]+)+
  end  

  rule period
    '\.'
  end  
end
